
-- RemoteLoggerX - Script seguro y liviano (sin firmas de SimpleSpy)

-- Configuración
local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local StarterGui = game:GetService("StarterGui")

-- Crear GUI
local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "RemoteLoggerX"
ScreenGui.ResetOnSpawn = false

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 500, 0, 300)
Main.Position = UDim2.new(0.5, -250, 0.5, -150)
Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Main.Active = true
Main.Draggable = true

local Toggle = Instance.new("TextButton", Main)
Toggle.Size = UDim2.new(0, 20, 0, 20)
Toggle.Position = UDim2.new(1, -25, 0, 5)
Toggle.Text = "-"
Toggle.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, -30, 0, 25)
Title.Position = UDim2.new(0, 5, 0, 0)
Title.Text = "RemoteLoggerX"
Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundTransparency = 1
Title.TextXAlignment = Enum.TextXAlignment.Left

local Scroller = Instance.new("ScrollingFrame", Main)
Scroller.Size = UDim2.new(1, -10, 1, -40)
Scroller.Position = UDim2.new(0, 5, 0, 30)
Scroller.CanvasSize = UDim2.new(0, 0, 0, 0)
Scroller.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Scroller.BorderSizePixel = 0
Scroller.AutomaticCanvasSize = Enum.AutomaticSize.Y
Scroller.ScrollBarThickness = 6

local UIListLayout = Instance.new("UIListLayout", Scroller)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 2)

-- Mostrar/Ocultar
Toggle.MouseButton1Click:Connect(function()
	Main.Visible = false
end)

local ReopenButton = Instance.new("TextButton", ScreenGui)
ReopenButton.Size = UDim2.new(0, 100, 0, 25)
ReopenButton.Position = UDim2.new(0, 10, 0, 10)
ReopenButton.Text = "Mostrar"
ReopenButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ReopenButton.TextColor3 = Color3.new(1, 1, 1)

ReopenButton.MouseButton1Click:Connect(function()
	Main.Visible = true
end)

-- Función para agregar logs
local function addLog(remote, args)
	local entry = Instance.new("TextButton")
	entry.Size = UDim2.new(1, -10, 0, 40)
	entry.TextWrapped = true
	entry.TextXAlignment = Enum.TextXAlignment.Left
	entry.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	entry.TextColor3 = Color3.new(1, 1, 1)
	entry.Text = "[" .. remote.ClassName .. "] " .. remote.Name
	entry.Parent = Scroller

	entry.MouseButton1Click:Connect(function()
		setclipboard(remote:GetFullName() .. ":FireServer(...)")
		StarterGui:SetCore("SendNotification", {
			Title = "Copiado",
			Text = "Ruta del remoto copiada",
			Duration = 2
		})
	end)
end

-- Conectar remotos
local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldNamecall = mt.__namecall

mt.__namecall = newcclosure(function(self, ...)
	local method = getnamecallmethod()
	if method == "FireServer" or method == "InvokeServer" then
		if typeof(self) == "Instance" and (self:IsA("RemoteEvent") or self:IsA("RemoteFunction")) then
			addLog(self, { ... })
		end
	end
	return oldNamecall(self, ...)
end)

-- Protección mínima
setreadonly(mt, true)
